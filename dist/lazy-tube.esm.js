class e extends HTMLElement{constructor(){super(),this.videoId=encodeURIComponent(this.getAttribute("videoid")),this.width=window.innerWidth,this.width>700?this.poster="mqdefault.jpg":this.poster="default.jpg",this.posterUrl=`https://i.ytimg.com/vi/${this.videoId}/${this.poster}`,e.addPrefetch("preload",this.posterUrl,"image"),this.playLabel=this.getAttribute("playlabel")?encodeURIComponent(this.getAttribute("playlabel")):"Play"}connectedCallback(){this.style.backgroundImage=`url("${this.posterUrl}")`;let t=this.querySelector(".lty-playbtn");t||(t=document.createElement("button"),t.type="button",t.classList.add("lty-playbtn"),t.title=decodeURIComponent(this.playLabel),this.append(t)),this.addEventListener("pointerover",e.warmConnections,{once:!0}),this.addEventListener("click",e=>this.addIframe())}static addPrefetch(e,t,o){const n=document.createElement("link");n.rel=e,n.href=t,o&&(n.as=o),n.crossOrigin="anonymous",document.head.append(n)}static warmConnections(){e.preconnected||(e.addPrefetch("preconnect","https://www.youtube-nocookie.com"),e.addPrefetch("preconnect","https://www.google.com"),e.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),e.addPrefetch("preconnect","https://static.doubleclick.net"),e.preconnected=!0)}addIframe(){const e=`\n<iframe width="560" height="315" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://www.youtube-nocookie.com/embed/${this.videoId}?autoplay=1"\n></iframe>`;this.insertAdjacentHTML("beforeend",e),this.classList.add("lyt-activated")}}customElements.define("lazy-youtube",e);
